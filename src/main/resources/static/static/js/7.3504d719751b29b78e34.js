webpackJsonp([7],{UeAs:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"createForm",components:{taskDetail:a("s9EI").a}},o={render:function(){var t=this.$createElement;return(this._self._c||t)("task-detail",{attrs:{"is-edit":!1}})},staticRenderFns:[]},s=a("VU/8")(n,o,!1,null,null,null);e.default=s.exports},l39U:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'\n.createPost-container[data-v-16b6b39b] {\n  position: relative;\n}\n.createPost-container .createPost-main-container[data-v-16b6b39b] {\n    padding: 40px 45px 20px 50px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-16b6b39b] {\n      position: relative;\n      margin-bottom: 10px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-16b6b39b]:after {\n        content: "";\n        display: table;\n        clear: both;\n}\n.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-16b6b39b] {\n        float: left;\n}\n.createPost-container .createPost-main-container .editor-container[data-v-16b6b39b] {\n      min-height: 500px;\n      margin: 0 0 30px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-16b6b39b] {\n        text-align: right;\n        margin-right: 10px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-16b6b39b] {\n          display: inline-block;\n}\n.createPost-container .word-counter[data-v-16b6b39b] {\n    width: 40px;\n    position: absolute;\n    right: -10px;\n    top: 0px;\n}\n',""])},nBC9:function(t,e,a){var n=a("l39U");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("9541ade4",n,!0)},s9EI:function(t,e,a){"use strict";var n=a("woOf"),o=a.n(n),s=a("5aCZ"),r=a("+mJe"),i=a("RUzx"),c=a.n(i),l=(a("tLvy"),a("vHhr")),m=a("Q3je"),p={taskName:"",taskExeClass:"",taskExeMethod:"",taskCron:"",taskStatus:""},u={name:"taskDetail",components:{Tinymce:s.a,MDinput:r.a,Multiselect:c.a,Sticky:l.a},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this;return{postForm:o()({},p),loading:!1,taskStatus:[{id:"1",name:"是"},{id:"0",name:"否"}],rules:{taskName:[{required:!0,trigger:"blur",validator:function(e,a,n){""===a?t.$message({message:"任务名为必传项",type:"error"}):n()}}],taskExeClass:[{required:!0,trigger:"blur",validator:function(e,a,n){""===a?t.$message({message:"任务执行类为必传项",type:"error"}):n()}}],taskExeMethod:[{required:!0,trigger:"blur",validator:function(e,a,n){""===a?t.$message({message:"任务执行方法为必传项",type:"error"}):n()}}],taskCron:[{required:!0,trigger:"blur",validator:function(e,a,n){""===a?t.$message({message:"任务执行时间为必传项",type:"error"}):n()}}],taskStatus:[{required:!0,trigger:"change",validator:function(e,a,n){""===a?t.$message({message:"任务是否启用为必传项",type:"error"}):n()}}]}}},computed:{},created:function(){if(this.isEdit){var t=this.$route.params&&this.$route.params.id;this.fetchData(t)}else this.postForm=o()({},p)},methods:{fetchData:function(t){var e=this;Object(m.c)(t).then(function(t){e.postForm=t.data.data}).catch(function(t){console.log(t)})},submitForm:function(){var t=this;this.$refs.postForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,t.isEdit?Object(m.f)(t.postForm).then(function(e){console.log(e),e.data.success&&t.$notify({title:"成功",message:"更新成功",type:"success",duration:2e3})}).catch(function(t){console.log(t)}):Object(m.a)(t.postForm).then(function(e){e.data.success&&t.$notify({title:"成功",message:"提交成功",type:"success",duration:2e3})}).catch(function(t){console.log(t)}),t.loading=!1})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createPost-container"},[a("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules}},[a("sticky",{attrs:{className:"sub-navbar "}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:t.submitForm}},[t._v("提交")])],1),t._v(" "),a("div",{staticClass:"createPost-main-container"},[a("div",{staticClass:"postInfo-container"},[a("el-row",[a("el-col",{attrs:{span:21}},[a("el-form-item",{staticClass:"postInfo-container-item",attrs:{"label-width":"100px",label:"是否启用：",prop:"taskStatus"}},[a("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"是否启用"},model:{value:t.postForm.taskStatus,callback:function(e){t.$set(t.postForm,"taskStatus",e)},expression:"postForm.taskStatus"}},t._l(t.taskStatus,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{attrs:{span:21}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"taskName"}},[a("MDinput",{attrs:{name:"taskName",required:"",maxlength:100},model:{value:t.postForm.taskName,callback:function(e){t.$set(t.postForm,"taskName",e)},expression:"postForm.taskName"}},[t._v("\n              任务名称\n            ")])],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"taskExeClass"}},[a("MDinput",{attrs:{name:"taskExeClass",required:"",maxlength:100},model:{value:t.postForm.taskExeClass,callback:function(e){t.$set(t.postForm,"taskExeClass",e)},expression:"postForm.taskExeClass"}},[t._v("\n              执行类\n            ")])],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"taskExeMethod"}},[a("MDinput",{attrs:{name:"taskExeMethod",required:"",maxlength:50},model:{value:t.postForm.taskExeMethod,callback:function(e){t.$set(t.postForm,"taskExeMethod",e)},expression:"postForm.taskExeMethod"}},[t._v("\n              执行方法\n            ")])],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"taskCron"}},[a("MDinput",{attrs:{name:"taskCron",required:"",maxlength:50},model:{value:t.postForm.taskCron,callback:function(e){t.$set(t.postForm,"taskCron",e)},expression:"postForm.taskCron"}},[t._v("\n              执行时间\n            ")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var b=a("VU/8")(u,d,!1,function(t){a("nBC9")},"data-v-16b6b39b",null);e.a=b.exports}});