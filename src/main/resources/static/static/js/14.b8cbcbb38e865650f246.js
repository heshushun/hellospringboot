webpackJsonp([14],{HKBP:function(t,e,a){var n=a("ym1L");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("01cf5140",n,!0)},iNcC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("woOf"),o=a.n(n),r=a("5aCZ"),i=a("+mJe"),s=a("KQHe"),p=a("RUzx"),c=a.n(p),l=(a("tLvy"),a("vHhr")),m=a("vMJZ"),d=a("Oakg"),g={account:"",name:"",password:"",sex:"",departmentId:"",age:"",wechat:"",portrait:""},u={name:"userInfo",components:{Tinymce:r.a,MDinput:i.a,Multiselect:c.a,Sticky:l.a,ImageCropper:d.a,Upload:s.a},props:{isEdit:{type:Boolean,default:!1}},data:function(){var t=this;return{imagecropperShow:!1,imagecropperKey:0,postForm:o()({},g),loading:!1,department:[{id:"1",name:"平台测试部"},{id:"2",name:"资管测试部"},{id:"3",name:"经纪测试部"},{id:"4",name:"银行测试部"},{id:"5",name:"交易所测试部"}],sexs:["男","女"],rules:{name:[{required:!0,trigger:"blur",validator:function(e,a,n){""===a?t.$message({message:"用户名为必传项",type:"error"}):n()}}],departmentId:[{required:!0,trigger:"blur",validator:function(e,a,n){""===a?t.$message({message:"部门为必传项",type:"error"}):n()}}],portrait:[{required:!0,trigger:"change",validator:function(e,a,n){""===a?t.$message({message:"头像为必传项",type:"error"}):n()}}]}}},computed:{imageUrl:function(){return this.postForm.portrait}},created:function(){var t=this.$route.params&&this.$route.params.id;this.fetchData(t)},methods:{rmImage:function(){this.postForm.portrait=""},cropSuccess:function(t){this.imagecropperShow=!1,this.imagecropperKey=this.imagecropperKey+1,this.postForm.portrait=t.data},close:function(){this.imagecropperShow=!1},fetchData:function(t){var e=this;Object(m.e)(t).then(function(t){e.postForm=t.data.data,e.postForm.departmentId=e.department[e.postForm.departmentId-1].id}).catch(function(t){console.log(t)})},submitForm:function(){var t=this;this.$refs.postForm.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.loading=!0,Object(m.h)(t.postForm).then(function(e){e.data.success&&t.$notify({title:"成功",message:"修改资料成功",type:"success",duration:2e3})}).catch(function(t){console.log(t)}),t.loading=!1})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"createPost-container"},[a("el-form",{ref:"postForm",staticClass:"form-container",attrs:{model:t.postForm,rules:t.rules}},[a("sticky",{attrs:{className:"sub-navbar "}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"margin-left":"10px"},attrs:{type:"success"},on:{click:t.submitForm}},[t._v("提交修改")])],1),t._v(" "),a("div",{staticClass:"createPost-main-container"},[a("div",{staticClass:"postInfo-container"},[a("el-row",[a("el-col",{staticStyle:{"margin-right":"40px"},attrs:{span:10}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"account"}},[a("el-input",{attrs:{disabled:!0,required:"",maxlength:20},model:{value:t.postForm.account,callback:function(e){t.$set(t.postForm,"account",e)},expression:"postForm.account"}},[a("template",{slot:"prepend"},[t._v("账号")])],2)],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"name"}},[a("el-input",{attrs:{required:"",maxlength:40},model:{value:t.postForm.name,callback:function(e){t.$set(t.postForm,"name",e)},expression:"postForm.name"}},[a("template",{slot:"prepend"},[t._v("用户名")])],2)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-right":"40px"},attrs:{span:10}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"age"}},[a("el-input",{attrs:{required:"",maxlength:20},model:{value:t.postForm.age,callback:function(e){t.$set(t.postForm,"age",e)},expression:"postForm.age"}},[a("template",{slot:"prepend"},[t._v("年龄")])],2)],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"wechat"}},[a("el-input",{attrs:{required:"",maxlength:40},model:{value:t.postForm.wechat,callback:function(e){t.$set(t.postForm,"wechat",e)},expression:"postForm.wechat"}},[a("template",{slot:"prepend"},[t._v("微信")])],2)],1)],1)],1),t._v(" "),a("el-row",[a("el-col",{staticStyle:{"margin-right":"40px"},attrs:{span:10}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"account"}},[a("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"性别"},model:{value:t.postForm.sex,callback:function(e){t.$set(t.postForm,"sex",e)},expression:"postForm.sex"}},t._l(t.sexs,function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})}))],1)],1),t._v(" "),a("el-col",{attrs:{span:10}},[a("el-form-item",{staticStyle:{"margin-bottom":"40px"},attrs:{prop:"departmentId"}},[a("el-select",{attrs:{clearable:"",filterable:"",remote:"",placeholder:"部门"},model:{value:t.postForm.departmentId,callback:function(e){t.$set(t.postForm,"departmentId",e)},expression:"postForm.departmentId"}},t._l(t.department,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1)],1)],1)],1),t._v(" "),a("div",{staticClass:"upload",staticStyle:{"margin-top":"20px"}},[a("el-form-item",[a("el-button",{staticStyle:{position:"absolute","margin-left":"0px"},attrs:{type:"primary",icon:"upload"},on:{click:function(e){t.imagecropperShow=!0}}},[t._v("上传头像\n          ")])],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"portrait"}},[a("div",{staticClass:"image-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[a("img",{attrs:{src:t.imageUrl},model:{value:t.postForm.portrait,callback:function(e){t.$set(t.postForm,"portrait",e)},expression:"postForm.portrait"}}),t._v(" "),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-delete",on:{click:t.rmImage}})])])]),t._v(" "),a("image-cropper",{directives:[{name:"show",rawName:"v-show",value:t.imagecropperShow,expression:"imagecropperShow"}],key:t.imagecropperKey,attrs:{width:300,height:300,url:"http://10.20.65.161:7003/img/upload",langType:"en"},on:{close:t.close,"crop-upload-success":t.cropSuccess}})],1)],1)],1)],1)},staticRenderFns:[]};var h=a("VU/8")(u,v,!1,function(t){a("HKBP")},"data-v-844a701c",null);e.default=h.exports},ym1L:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,'\n.createPost-container[data-v-844a701c] {\n  position: relative;\n}\n.createPost-container .createPost-main-container[data-v-844a701c] {\n    padding: 40px 45px 20px 50px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-844a701c] {\n      position: relative;\n      margin-bottom: 10px;\n}\n.createPost-container .createPost-main-container .postInfo-container[data-v-844a701c]:after {\n        content: "";\n        display: table;\n        clear: both;\n}\n.createPost-container .createPost-main-container .postInfo-container .postInfo-container-item[data-v-844a701c] {\n        float: left;\n}\n.createPost-container .createPost-main-container .editor-container[data-v-844a701c] {\n      min-height: 500px;\n      margin: 0 0 30px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container[data-v-844a701c] {\n        text-align: right;\n        margin-right: 10px;\n}\n.createPost-container .createPost-main-container .editor-container .editor-upload-btn-container .editor-upload-btn[data-v-844a701c] {\n          display: inline-block;\n}\n.createPost-container .word-counter[data-v-844a701c] {\n    width: 40px;\n    position: absolute;\n    right: -10px;\n    top: 0px;\n}\n.image-preview[data-v-844a701c] {\n  width: 300px;\n  height: 300px;\n  position: relative;\n  border: 1px dashed #d9d9d9;\n  float: left;\n  margin-left: 0px;\n  margin-top: 30px;\n  margin-bottom: 50px;\n}\n.image-preview .image-preview-wrapper[data-v-844a701c] {\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n.image-preview .image-preview-wrapper img[data-v-844a701c] {\n      width: 100%;\n      height: 100%;\n}\n.image-preview .image-preview-action[data-v-844a701c] {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    left: 0;\n    top: 0;\n    cursor: default;\n    text-align: center;\n    color: #fff;\n    opacity: 0;\n    font-size: 20px;\n    background-color: rgba(0, 0, 0, 0.5);\n    -webkit-transition: opacity .3s;\n    transition: opacity .3s;\n    cursor: pointer;\n    text-align: center;\n    line-height: 200px;\n}\n.image-preview .image-preview-action .el-icon-delete[data-v-844a701c] {\n      font-size: 36px;\n}\n.image-preview:hover .image-preview-action[data-v-844a701c] {\n    opacity: 1;\n}\n.image-app-preview[data-v-844a701c] {\n  width: 320px;\n  height: 180px;\n  position: relative;\n  border: 1px dashed #d9d9d9;\n  float: left;\n  margin-left: 50px;\n}\n.image-app-preview .app-fake-conver[data-v-844a701c] {\n    height: 44px;\n    position: absolute;\n    width: 100%;\n    text-align: center;\n    line-height: 64px;\n    color: #fff;\n}\n',""])}});