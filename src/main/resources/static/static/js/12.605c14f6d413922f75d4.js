webpackJsonp([12],{"5rrO":function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"\n.edit-input {\n  padding-right: 100px;\n}\n.cancel-btn {\n  position: absolute;\n  right: 15px;\n  top: 10px;\n}\n/*.el-tooltip__popper.is-dark{\n  width: 300px !important;\n  background-color: #68af40;\n}*/\n\n",""])},QA7p:function(t,e,n){var i=n("5rrO");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("7498439c",i,!0)},ufd0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("vLgD");var a=n("0xDb"),l={name:"companyList",data:function(){return{list:null,total:0,listLoading:!0,provinceList:["北京","天津","河北","山西","内蒙古","辽宁","吉林","黑龙江","上海","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","重庆","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","台湾","香港","澳门"],industryList:[],listQuery:{province:"",industry:"",name:"",current:1,limit:10},downloadLoading:!1}},computed:{},created:function(){this.getList(),this.getIndustryList()},methods:{getList:function(){var t,e=this;this.listLoading=!0,(t=this.listQuery,Object(i.a)({url:"/company/page",method:"get",params:t})).then(function(t){e.list=t.data.data.records,e.total=t.data.data.total,e.listLoading=!1}).catch(function(){e.listLoading=!1})},getIndustryList:function(){var t=this;Object(i.a)({url:"/company/getIndustryList",method:"get"}).then(function(e){t.industryList=e.data.data}).catch(function(){t.$message({message:"行业列表加载失败...",type:"error"})})},handleFilter:function(){this.listQuery.current=1,this.getList()},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.current=t,this.getList()},handleCreate:function(){this.getList()},handleDownload:function(){var t=this;this.downloadLoading=!0,Promise.all([n.e(23),n.e(22)]).then(n.bind(null,"zWO4")).then(function(e){var n=t.formatJson(["stockCode","name","abbrName","province","city","listedDate","issuePrice","industry","businessMajor"],t.list);e.export_json_to_excel({header:["股票代码","公司名称","公司简称","所属省","所属城市","上市日期","发行价","所属行业","经营范围"],data:n,filename:"company-list"}),t.downloadLoading=!1})},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return"股票代码"===t?Object(a.c)(e[t]):e[t]})})}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"filter-container"},[n("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"股票代码 / 名称"},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key))return null;t.handleFilter(e)}},model:{value:t.listQuery.name,callback:function(e){t.$set(t.listQuery,"name",e)},expression:"listQuery.name"}}),t._v(" "),n("el-select",{staticClass:"filter-item",staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"所属省"},on:{change:t.handleFilter},model:{value:t.listQuery.province,callback:function(e){t.$set(t.listQuery,"province",e)},expression:"listQuery.province"}},t._l(t.provinceList,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),t._v(" "),n("el-select",{staticClass:"filter-item",staticStyle:{width:"300px"},attrs:{clearable:"",placeholder:"所属行业"},on:{change:t.handleFilter},model:{value:t.listQuery.industry,callback:function(e){t.$set(t.listQuery,"industry",e)},expression:"listQuery.industry"}},t._l(t.industryList,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})})),t._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v(t._s(t.$t("table.search")))]),t._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",icon:"el-icon-refresh"},on:{click:t.handleCreate}},[t._v(t._s("刷新"))]),t._v(" "),n("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px"},attrs:{type:"primary",loading:t.downloadLoading,icon:"el-icon-download"},on:{click:t.handleDownload}},[t._v(t._s(t.$t("table.export")))])],1),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:t.list,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{align:"center",label:"股票代码",width:"80px"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.stockCode))])]}}])}),t._v(" "),n("el-table-column",{attrs:{"show-overflow-tooltip":!0,width:"210px",align:"center",label:"公司名称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"100px",align:"center",label:"公司简称"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.abbrName))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"80px",align:"center",label:"所属省"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.province))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"100px",align:"center",label:"所属城市"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.city))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"100",align:"center",label:"上市日期"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.listedDate))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"80",align:"center",label:"发行价"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.issuePrice)+"元")])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"120",align:"center",label:"所属行业"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{width:"120px","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[t._v(t._s(e.row.industry))])]}}])}),t._v(" "),n("el-table-column",{attrs:{width:"auto",align:"center",label:"经营范围"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",{staticStyle:{width:"200px","text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[t._v(t._s(e.row.businessMajor))])]}}])})],1),t._v(" "),n("div",{staticClass:"pagination-container"},[n("el-pagination",{attrs:{background:"","current-page":t.listQuery.current,"page-sizes":[10,20,30,50],"page-size":t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]};var r=n("VU/8")(l,s,!1,function(t){n("QA7p")},null,null);e.default=r.exports}});